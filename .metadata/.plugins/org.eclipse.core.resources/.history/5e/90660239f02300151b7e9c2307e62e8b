package simulador.cpu;

//Unidade de Lógica e Aritmética, destinada a efetuar os cálculos
//O único registrador que a ULA possui é o AC
public class Ula {
	
	static Integer Dado;
	static Integer AC;
	
	//Flags
	
	
	//Métodos para enviar dados para o barramento interno
	public static void EnviarACBarramento()
	{
		BarramentoInterno.setDado(AC);
	}
	
	public static void enviarDadoULA(Integer dado)
	{
		Dado = dado;
	}
	
	//--------------------------Classe que define as operações da ULA-------------------------------
	
	public static void operacao(Integer[] sinal)
	{
		int indicador;
		
		indicador = (int) (sinal[22] * Math.pow(2, 4));
		indicador += (int) (sinal[23] * Math.pow(2, 3));
		indicador += (int) (sinal[24] * Math.pow(2, 2));
		indicador += (int) (sinal[25] * 2);
		indicador += sinal[26];
		
		//Validações
		if(indicador == 0)
		{
			//Não faz nada, mantém o AC zerado
			AC = Dado;
			return;
		}
		
		if(indicador == 1)
		{
			//Incrementar o conteúdo do dado e jogar no AC
			AC = ++Dado;
			return;
		}
		
		if(indicador == 2)
		{
			//Decrementar o conteúdo do dado e jogar no AC
			AC = --Dado;
		}
	}
	
}
